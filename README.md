# MuMuAINovel-sqlite ğŸ“šâœ¨

<div align="center">

![Version](https://img.shields.io/badge/version-1.3.3-blue.svg)
![Python](https://img.shields.io/badge/python-3.11-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.109.0-green.svg)
![React](https://img.shields.io/badge/react-18.3.1-blue.svg)
![License](https://img.shields.io/badge/license-GPL%20v3-blue.svg)

**åŸºäº AI çš„æ™ºèƒ½å°è¯´åˆ›ä½œåŠ©æ‰‹**

[ç‰¹æ€§](#-ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹ï¼ˆæœ¬åœ° SQLite éƒ¨ç½²ï¼‰](#-å¿«é€Ÿå¼€å§‹æœ¬åœ°-sqlite-éƒ¨ç½²) â€¢ [é…ç½®è¯´æ˜](#%EF%B8%8F-é…ç½®è¯´æ˜) â€¢ [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)

</div>

### å£°æ˜ï¼šæ„Ÿè°¢è¯¥å®˜æ–¹çš„å¼€æºï¼Œhttps://github.com/xiamuceer-j/MuMuAINovelï¼Œæœ¬é¡¹ç›®æ˜¯ç§»é™¤dockerå®‰è£…ï¼Œç›´æ¥è¿è¡Œåœ¨windowsç¯å¢ƒã€‚
## âœ¨ ç‰¹æ€§

- ğŸ¤– **å¤š AI æ¨¡å‹** - æ”¯æŒ OpenAIã€Geminiã€Claude ç­‰ä¸»æµæ¨¡å‹
- ğŸ“ **æ™ºèƒ½å‘å¯¼** - AI è‡ªåŠ¨ç”Ÿæˆå¤§çº²ã€è§’è‰²å’Œä¸–ç•Œè§‚
- ğŸ‘¥ **è§’è‰²ç®¡ç†** - äººç‰©å…³ç³»ã€ç»„ç»‡æ¶æ„å¯è§†åŒ–ç®¡ç†
- ğŸ“– **ç« èŠ‚ç¼–è¾‘** - æ”¯æŒåˆ›å»ºã€ç¼–è¾‘ã€é‡æ–°ç”Ÿæˆå’Œæ¶¦è‰²
- ğŸŒ **ä¸–ç•Œè§‚è®¾å®š** - æ„å»ºå®Œæ•´çš„æ•…äº‹èƒŒæ™¯
- ğŸ” **æœ¬åœ°ç™»å½•** - æœ¬åœ°è´¦æˆ·ç™»å½•ï¼Œæ— éœ€ OAuth
- ğŸ’¾ **SQLite æ•°æ®åº“** - è½»é‡çº§æœ¬åœ°æ•°æ®åº“ï¼Œæ— éœ€ Docker
- ğŸ–¥ï¸ **çº¯æœ¬åœ°éƒ¨ç½²** - æ— éœ€å®¹å™¨ï¼Œç›´æ¥è¿è¡Œ

## ğŸ“¸ é¡¹ç›®é¢„è§ˆ

<details>

<summary>å¤šå›¾é¢„è­¦</summary>

<div align="center">

### ç™»å½•ç•Œé¢
![ç™»å½•ç•Œé¢](images/1.png)

### ä¸»ç•Œé¢
![ä¸»ç•Œé¢](images/2.png)

### é¡¹ç›®ç®¡ç†
![é¡¹ç›®ç®¡ç†](images/3.png)

### èµåŠ©æˆ‘ ğŸ’–
![èµåŠ©æˆ‘](images/4.png)

</div>

</details>

## ğŸ“‹ TODO List

### âœ… å·²å®ŒæˆåŠŸèƒ½

- [x] **çµæ„Ÿæ¨¡å¼** - åˆ›ä½œçµæ„Ÿå’Œç‚¹å­ç”Ÿæˆ
- [x] **è‡ªå®šä¹‰å†™ä½œé£æ ¼** - æ”¯æŒè‡ªå®šä¹‰ AI å†™ä½œé£æ ¼
- [x] **æ•°æ®å¯¼å…¥å¯¼å‡º** - é¡¹ç›®æ•°æ®çš„å¯¼å…¥å¯¼å‡º
- [x] **Prompt è°ƒæ•´ç•Œé¢** - å¯è§†åŒ–ç¼–è¾‘ Prompt æ¨¡æ¿
- [x] **ç« èŠ‚å­—æ•°é™åˆ¶** - ç”¨æˆ·å¯è®¾ç½®ç”Ÿæˆå­—æ•°
- [x] **æ€ç»´é“¾ä¸ç« èŠ‚å…³ç³»å›¾è°±** - å¯è§†åŒ–ç« èŠ‚é€»è¾‘å…³ç³»
- [x] **æ ¹æ®åˆ†æä¸€é”®é‡å†™** - æ ¹æ®åˆ†æå»ºè®®é‡æ–°ç”Ÿæˆ
- [x] **Linux DO è‡ªåŠ¨åˆ›å»ºè´¦å·** - OAuth ç™»å½•è‡ªåŠ¨ç”Ÿæˆè´¦å·
- [x] **èŒä¸šç­‰çº§ä½“ç³»** - è‡ªå®šä¹‰èŒä¸šå’Œç­‰çº§ç³»ç»Ÿï¼Œæ”¯æŒä¿®ä»™å¢ƒç•Œã€é­”æ³•ç­‰çº§ç­‰å¤šç§ä½“ç³»
- [x] **è§’è‰²/ç»„ç»‡å¡ç‰‡å¯¼å…¥å¯¼å‡º** - å•ç‹¬å¯¼å‡ºè§’è‰²å’Œç»„ç»‡å¡ç‰‡ï¼Œæ”¯æŒè·¨é¡¹ç›®æ•°æ®å…±äº«
- [x] **ä¼ç¬”ç®¡ç†** - æ™ºèƒ½è¿½è¸ªå‰§æƒ…ä¼ç¬”ï¼Œæé†’æœªå›æ”¶çº¿ç´¢ï¼Œå¯è§†åŒ–ä¼ç¬”æ—¶é—´çº¿
- [x] **æç¤ºè¯å·¥åŠ** - ç¤¾åŒºé©±åŠ¨çš„ Prompt æ¨¡æ¿åˆ†äº«å¹³å°ï¼Œä¸€é”®å¯¼å…¥ä¼˜è´¨æç¤ºè¯
- [x] **ç« èŠ‚æ ‡é¢˜** - ç« èŠ‚æ ‡é¢˜å¯ä»¥ä½¿ç”¨AIç”Ÿæˆ

![xiaoshuo.jpg](xiaoshuo.jpg)

> **ğŸ“Œ è¯´æ˜**
> - **Embedding æ¨¡å‹**ï¼šçº¦ 400 MB ç£ç›˜ç©ºé—´ï¼Œè¿è¡Œæ—¶åŠ è½½åˆ°å†…å­˜
> - æ¨¡å‹ä¸‹è½½
modelscope download --model sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2  --local_dir ./dir
> - **SQLite æ•°æ®åº“**ï¼šè‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€é¢å¤–é…ç½®
> - æœ¬é¡¹ç›®ä¸»è¦ä¾èµ–å¤–éƒ¨ AI APIï¼ˆOpenAI/Claude/Geminiï¼‰ï¼Œä¸éœ€è¦æœ¬åœ° GPU

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæœ¬åœ° SQLite éƒ¨ç½²ï¼‰

### å‰ç½®è¦æ±‚

- **Python 3.11+**
- **Node.js 18+**ï¼ˆç”¨äºå‰ç«¯æ„å»ºï¼‰
- è‡³å°‘ä¸€ä¸ª AI æœåŠ¡çš„ API Keyï¼ˆæ¨èä½¿ç”¨ DeepSeekï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/xiamuceer-j/MuMuAINovel.git
cd MuMuAINovel
```

### 2. å®‰è£… Python ä¾èµ–

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼‰
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å…³é”®é¡¹ï¼š
```

#### å…³é”®é…ç½®é¡¹è¯´æ˜ï¼š

```ini
# AI æœåŠ¡é…ç½®ï¼ˆå¿…éœ€ï¼‰
OPENAI_API_KEY=sk-ä½ çš„APIå¯†é’¥           # ä¾‹å¦‚ DeepSeek API Key
OPENAI_BASE_URL=https://api.deepseek.com  # DeepSeek API åœ°å€

# é»˜è®¤ AI é…ç½®
DEFAULT_AI_PROVIDER=openai
DEFAULT_MODEL=deepseek-chat              # DeepSeek æ¨¡å‹
DEFAULT_TEMPERATURE=0.7
DEFAULT_MAX_TOKENS=8192                  # DeepSeek æ¨¡å‹é™åˆ¶ä¸º 8192 ä»¤ç‰Œ

# æ•°æ®åº“é…ç½®ï¼ˆè‡ªåŠ¨ä½¿ç”¨ SQLiteï¼‰
# æ— éœ€è®¾ç½® DATABASE_URLï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ SQLite
# æ•°æ®åº“æ–‡ä»¶å°†åˆ›å»ºåœ¨ï¼šé¡¹ç›®æ ¹ç›®å½•/data/mumuai_novel.db

# æœ¬åœ°è´¦æˆ·ç™»å½•é…ç½®
LOCAL_AUTH_ENABLED=true
LOCAL_AUTH_USERNAME=admin
LOCAL_AUTH_PASSWORD=admin123
LOCAL_AUTH_DISPLAY_NAME=æœ¬åœ°ç®¡ç†å‘˜
```

> **ğŸ’¡ æç¤º**ï¼šå¦‚æœæ²¡æœ‰ `.env` æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»º SQLite æ•°æ®åº“æ–‡ä»¶ã€‚
### 4_1 å¿«æ·å¯ç”¨æ–¹å¼ï¼š
```commandline
start.bat     #åç«¯å¯åŠ¨è„šæœ¬
start_ui.bat  #å‰ç«¯å¯åŠ¨è„šæœ¬
```
### 4. æ„å»ºå‰ç«¯

```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..

# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# æ„å»ºå‰ç«¯é™æ€æ–‡ä»¶
npm run build
```

### 5. å¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..

# å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼ˆWindowsï¼‰
start.bat

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼ˆLinux/macOSï¼‰
cd backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8000

ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•ï¼š
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`

## ğŸ“ é¡¹ç›®ç»“æ„

```
MuMuAINovel/
â”œâ”€â”€ backend/                    # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app/                   # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”‚   â”œâ”€â”€ api/              # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ database.py       # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ .env                  # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”œâ”€â”€ requirements.txt      # Python ä¾èµ–
â”‚   â””â”€â”€ main.py              # åº”ç”¨å…¥å£
â”œâ”€â”€ frontend/                 # å‰ç«¯ä»£ç ï¼ˆReactï¼‰
â”‚   â”œâ”€â”€ public/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ src/                 # å‰ç«¯æºä»£ç 
â”‚   â””â”€â”€ package.json         # å‰ç«¯ä¾èµ–
â”œâ”€â”€ data/                    # SQLite æ•°æ®åº“æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ logs/                    # æ—¥å¿—æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ start.bat               # Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.ps1               # PowerShell å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md              # è‹±æ–‡æ–‡æ¡£
```

## ğŸ”§ æ•°æ®åº“è¯´æ˜

### SQLite æ•°æ®åº“

- **ä½ç½®**: `data/mumuai_novel.db`
- **è‡ªåŠ¨åˆ›å»º**: é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œè¡¨ç»“æ„
- **WAL æ¨¡å¼**: å¯ç”¨ Write-Ahead Logging æ¨¡å¼ï¼Œæ”¯æŒæ›´å¥½çš„å¹¶å‘æ€§èƒ½
- **å¤‡ä»½å»ºè®®**: å®šæœŸå¤‡ä»½ `data/` ç›®å½•

### æ•°æ®åº“åˆå§‹åŒ–

å¦‚æœæ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
1. åˆ›å»º `data/` ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
2. åˆå§‹åŒ– SQLite æ•°æ®åº“
3. åˆ›å»ºæ‰€æœ‰å¿…è¦çš„è¡¨ç»“æ„
4. åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼ˆå¦‚æœé…ç½®äº†æœ¬åœ°ç™»å½•ï¼‰

## ğŸ¤– AI æ¨¡å‹æ”¯æŒ

### æ”¯æŒçš„ AI æä¾›å•†

| æä¾›å•† | æ¨¡å‹ç¤ºä¾‹ | é…ç½®è¯´æ˜ |
|--------|----------|----------|
| **OpenAI** | gpt-4, gpt-4o-mini | è®¾ç½® `OPENAI_API_KEY` å’Œ `OPENAI_BASE_URL` |
| **DeepSeek** | deepseek-chat, deepseek-reasoner | ä½¿ç”¨ `https://api.deepseek.com` ä½œä¸º `OPENAI_BASE_URL` |
| **Gemini** | gemini-pro | è®¾ç½® `GEMINI_API_KEY` |
| **Claude** | claude-3-opus | è®¾ç½® `ANTHROPIC_API_KEY` |

### DeepSeek ä¸“ç”¨é…ç½®

```ini
# DeepSeek é…ç½®ç¤ºä¾‹
OPENAI_API_KEY=sk-ä½ çš„DeepSeekå¯†é’¥
OPENAI_BASE_URL=https://api.deepseek.com
DEFAULT_MODEL=deepseek-chat
DEFAULT_MAX_TOKENS=8192  # DeepSeek æ¨¡å‹æœ€å¤§é™åˆ¶
```

> **âš ï¸ æ³¨æ„**: DeepSeek æ¨¡å‹æœ‰ 8192 ä»¤ç‰Œé™åˆ¶ï¼Œè¶…è¿‡ä¼šè‡ªåŠ¨è°ƒæ•´ä¸º 8192ã€‚

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å¯åŠ¨æ—¶æç¤ºç«¯å£è¢«å ç”¨ï¼Ÿ
**A**: ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `APP_PORT` ä¸ºå…¶ä»–ç«¯å£ï¼ˆå¦‚ 8001ï¼‰ï¼Œæˆ–å…³é—­å ç”¨ 8000 ç«¯å£çš„ç¨‹åºã€‚

### Q2: æ•°æ®åº“æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ
**A**: åœ¨ `é¡¹ç›®æ ¹ç›®å½•/data/mumuai_novel.db`ã€‚é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºã€‚

### Q3: å¦‚ä½•é‡ç½®ç®¡ç†å‘˜å¯†ç ï¼Ÿ
**A**: åˆ é™¤æ•°æ®åº“æ–‡ä»¶ `data/mumuai_novel.db` å¹¶é‡å¯æœåŠ¡ï¼Œç³»ç»Ÿä¼šé‡æ–°åˆ›å»ºé»˜è®¤è´¦æˆ·ã€‚

### Q4: å‰ç«¯æ„å»ºå¤±è´¥ï¼Ÿ
**A**: ç¡®ä¿ Node.js ç‰ˆæœ¬ â‰¥ 18ï¼Œå¹¶å°è¯•ï¼š
```bash
cd frontend
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
npm run build
```

### Q5: API è°ƒç”¨è¿”å› 402 é”™è¯¯ï¼Ÿ
**A**: æ£€æŸ¥ API å¯†é’¥ä½™é¢æ˜¯å¦å……è¶³ï¼Œæˆ–ç¡®è®¤ API æœåŠ¡é…ç½®æ­£ç¡®ã€‚

### Q6: å¦‚ä½•å¯ç”¨ PostgreSQL æ•°æ®åº“ï¼Ÿ
**A**: åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½® `DATABASE_URL` ä¸º PostgreSQL è¿æ¥å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š
```ini
DATABASE_URL=postgresql+asyncpg://username:password@localhost:5432/mumuai_novel
```

## ğŸ”„ æ›´æ–°é¡¹ç›®

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ›´æ–°åç«¯ä¾èµ–
cd backend
pip install -r requirements.txt --upgrade

# æ›´æ–°å‰ç«¯ä¾èµ–å¹¶é‡æ–°æ„å»º
cd ../frontend
npm install
npm run dev
npm run build
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **GPL v3** è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼è´¡çŒ®å‰è¯·é˜…è¯»ï¼š
1. æäº¤ Issue æ—¶è¯·æè¿°æ¸…æ™°çš„é—®é¢˜æˆ–éœ€æ±‚
2. Pull Request è¯·åŸºäº `main` åˆ†æ”¯
3. ç¡®ä¿ä»£ç é£æ ¼ä¸é¡¹ç›®ä¸€è‡´
4. æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“ è”ç³»æ–¹å¼


- **QQ ç¾¤**: 1029629549

---

<div align="center">

**äº«å— AI è¾…åŠ©çš„å°è¯´åˆ›ä½œä¹‹æ—…å§ï¼** âœ¨

å¦‚æœè§‰å¾—é¡¹ç›®æœ‰ç”¨ï¼Œåˆ«å¿˜äº†ç‚¹ä¸ª â­ Star æ”¯æŒï¼

</div>

[![Star History Chart](https://api.star-history.com/svg?repos=Shybert-AI/MuMuAINovel-sqlite&type=Date)](https://star-history.com/#Shybert-AI/MuMuAINovel-sqlite&Date)
